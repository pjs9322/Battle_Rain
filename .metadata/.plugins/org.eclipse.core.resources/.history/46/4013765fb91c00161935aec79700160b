package model;

import java.io.IOException;
import java.io.Serializable;
import java.util.Vector;

public class User_Model extends Model implements Serializable {
	private static final long serialVersionUID = 1L;
	
	private String userID;
	private String password;

	@SuppressWarnings("unchecked")
	public boolean user_Login(String userID, String password) throws ClassNotFoundException, IOException {
		Vector<User_Model> user_List = (Vector<User_Model>) this.read("rsc\\data_File\\user_List");
		for (User_Model user: user_List) {
			if (user.userID.equals(userID) && user.password.equals(password)) {
				return true;
			}
		}
		System.out.println("계정 정보가 올바르지 않습니다.");
		return false;
	}
	
	@SuppressWarnings("unchecked")
	public void user_Join(String userID, String password) throws ClassNotFoundException, IOException {

		Vector<User_Model> user_List = (Vector<User_Model>) this.read("rsc\\data_File\\user_List");
		
		this.userID = userID;
		this.password = password;
		
		if (this.userID == null || this.password == null) {
			System.out.println("계정 정보가 올바르지 않습니다.");
		} else {
			for (User_Model user: user_List) {
				if (this.userID.equals(user.userID)) {
					System.out.println("계정 정보가 중복됩니다.");
					return;
				}
			}
			user_List.add(this);
			this.save("rsc\\data_File\\user_List", user_List);
		}
	}
}
