package display_Set;

import java.awt.Button;
import java.awt.Graphics;

import javax.swing.JFrame;
import javax.swing.JPanel;

import display_Sub.Room_Make;
import display_Sub.Room_Search;

public class Wait extends display_Set {
	private static final long serialVersionUID = 1L;

	private Button make_Room_Button = new Button("방 만들기");
	private Button search_Room_Button = new Button("방 검색");
	private Button logout_Button = new Button("로그아웃");

	private Sub_Frame subFrame;
	private Room_Make make;
	private Room_Search search;

	public Wait() {
		super();
		this.add(make_Room_Button);
		this.add(search_Room_Button);
		this.add(logout_Button);
	}
	
	@Override
	public void draw(Graphics g) {
		
	}

	@Override
	public void init_Parts() {
		this.make_Room_Button.addActionListener(actionListener);
		this.make_Room_Button.setActionCommand("make_Room");

		this.search_Room_Button.addActionListener(actionListener);
		this.search_Room_Button.setActionCommand("search_Room");
		
		this.logout_Button.addActionListener(actionListener);
		this.logout_Button.setActionCommand("user_logout");
	}
	
	public void make_Room() {
		if (this.subFrame == null) {
			this.make = new Room_Make();
			this.subFrame = new Sub_Frame(this.make);
		} else if (!this.subFrame.isDisplayable()) {
			this.make = new Room_Make();
			this.subFrame = new Sub_Frame(this.make);
		} else if (!this.subFrame.isFocused()) {
			this.subFrame.requestFocus();
		}
		
		if (this.control.make_Room(make.complete)) {
			this.state_code = 2;
		}
	}

	public void search_Room() {
		if (subFrame == null) {
			this.search = new Room_Search();
			this.subFrame = new Sub_Frame(this.search);
		} else if (!this.subFrame.isDisplayable()) {
			this.search = new Room_Search();
			this.subFrame = new Sub_Frame(this.search);
		} else if (!this.subFrame.isFocused()) {
			this.subFrame.requestFocus();
		}
	}
	
	public void user_logout() {
		this.state_code = 1;
	}
	
	
	class Sub_Frame extends JFrame {
		private static final long serialVersionUID = 1L;
		
		public Sub_Frame(JPanel subPanel) {
			this.add(subPanel);
			
			this.setSize(250, 120);
			this.setVisible(true);
			this.setDefaultCloseOperation(DO_NOTHING_ON_CLOSE);
			this.setAlwaysOnTop(true);
		}
	}
}
